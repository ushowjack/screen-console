"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),proxyPress=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"keydown",n=arguments[1],i=arguments[2];return _classCallCheck(this,e),this.type=t,this.count=0,this.rule=n,this.keyGroup=[],this.Timer,this.fn=i,this.keyEvent=null,"keydown"===t?this.addKeydownEvent():this.addClickEvent(),this}return _createClass(e,[{key:"addKeydownEvent",value:function(){this.keyEvent=function(e){var t=this;this.Timer&&window.clearTimeout(this.Timer),this.keyGroup.push(e.keyCode||event.which);var n=this.keyGroup.join("+");this.rule===n&&(this.fn.apply(this),this.keyGroup=[]),this.Timer=window.setTimeout(function(){t.keyGroup=[]},300)}.bind(this),document.addEventListener("keydown",this.keyEvent,!1)}},{key:"addClickEvent",value:function(){this.keyEvent=function(e){var t=this;this.Timer&&window.clearTimeout(this.Timer),this.count++,this.rule===this.count&&(this.fn.apply(this),this.count=0),this.Timer=window.setTimeout(function(){t.count=0},300)}.bind(this),document.addEventListener("click",this.keyEvent,!1)}},{key:"removeEvent",value:function(){if(!this.keyEvent)return!1;"number"==typeof this.rule?document.removeEventListener("keydown",this.keyEvent,!1):document.removeEventListener("click",this.keyEvent,!1)}}]),e}();exports.default=proxyPress;